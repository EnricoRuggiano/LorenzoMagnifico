<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (1.8.0_121) on Mon Jul 10 08:58:18 CEST 2017 -->
<title>ContextManager</title>
<meta name="date" content="2017-07-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ContextManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ContextManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ActionHandler.html" title="class in it.polimi.ingsw.GC_32.Server.Game"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/DiceColor.html" title="enum in it.polimi.ingsw.GC_32.Server.Game"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/polimi/ingsw/GC_32/Server/Game/ContextManager.html" target="_top">Frames</a></li>
<li><a href="ContextManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.polimi.ingsw.GC_32.Server.Game</div>
<h2 title="Class ContextManager" class="title">Class ContextManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.polimi.ingsw.GC_32.Server.Game.ContextManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ContextManager</span>
extends java.lang.Object</pre>
<div class="block">ContextManager is responsable of handling the contexts. Contexts are the way to ask the client more information on the action he wants to perform. For example if the 
 player wants perform a PRODUCTION or an HARVEST action a context is open to ask how many servants the player wants to spend, or if a PRIVILEGE must be spent a context
 is opened to allow the player to choose what resources he wants gain from his councile privilege. 
 Context are also prompt when CHANGE effects or ACTION effects are triggered by the activation of permanent effects. Context are used during the excommunication
 phase as well, when the server must ask if the player wants show his faith to the pope or not.
 
<ul>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#game"><code>game</code></a>: the game this context manager must handle</li>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#payloadReplayQueue"><code>payloadReplayQueue</code></a>: a queue of JsonValue which memorize all the responses taken by contexts</li>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#pendingMessage"><code>pendingMessage</code></a>: the recived message</li>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#waitingContextResponse"><code>waitingContextResponse</code></a>: the type of context that ContextManager his waiting</li>
</ul></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Game, GameMessage, ContextType, Player, Action, ServerMessageFactory</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Game.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Game</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#game">game</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.LinkedList&lt;com.eclipsesource.json.JsonValue&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#payloadReplayQueue">payloadReplayQueue</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/polimi/ingsw/GC_32/Common/Network/GameMessage.html" title="class in it.polimi.ingsw.GC_32.Common.Network">GameMessage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#pendingMessage">pendingMessage</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#waitingContextResponse">waitingContextResponse</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#ContextManager-it.polimi.ingsw.GC_32.Server.Game.Game-">ContextManager</a></span>(<a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Game.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Game</a>&nbsp;game)</code>
<div class="block">initialize the manager to handle contexts for the spcified game</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#getWaitContextResponse--">getWaitContextResponse</a></span>()</code>
<div class="block">allows to retrive the content of the waitingContextResponse string</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#isThereAnyOpenContext--">isThereAnyOpenContext</a></span>()</code>
<div class="block">tells if the ContextManager is waiting for a response</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#openContext-it.polimi.ingsw.GC_32.Common.Network.ContextType-it.polimi.ingsw.GC_32.Server.Game.Player-it.polimi.ingsw.GC_32.Server.Game.Action-com.eclipsesource.json.JsonValue-">openContext</a></span>(<a href="../../../../../../it/polimi/ingsw/GC_32/Common/Network/ContextType.html" title="enum in it.polimi.ingsw.GC_32.Common.Network">ContextType</a>&nbsp;context,
           <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Player.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Player</a>&nbsp;player,
           <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Action.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Action</a>&nbsp;action,
           com.eclipsesource.json.JsonValue&nbsp;extraInfo)</code>
<div class="block">open a context.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#setContextAck-boolean-it.polimi.ingsw.GC_32.Server.Game.Player-">setContextAck</a></span>(boolean&nbsp;accepted,
             <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Player.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Player</a>&nbsp;player)</code>
<div class="block">send the CONTEXTACK response to the client</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>com.eclipsesource.json.JsonValue</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ContextManager.html#waitForContextReply--">waitForContextReply</a></span>()</code>
<div class="block">blocking method which await for a CONTEXTREPLY message, if the CONTEXT_TYPE field is equals to the value of waitingContextResponse string the response is accepted
 and the response is returned to the caller. null is returned if ContextManager is no context are opened.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="waitingContextResponse">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitingContextResponse</h4>
<pre>private&nbsp;java.lang.String waitingContextResponse</pre>
</li>
</ul>
<a name="payloadReplayQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>payloadReplayQueue</h4>
<pre>private&nbsp;java.util.LinkedList&lt;com.eclipsesource.json.JsonValue&gt; payloadReplayQueue</pre>
</li>
</ul>
<a name="pendingMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingMessage</h4>
<pre>private&nbsp;<a href="../../../../../../it/polimi/ingsw/GC_32/Common/Network/GameMessage.html" title="class in it.polimi.ingsw.GC_32.Common.Network">GameMessage</a> pendingMessage</pre>
</li>
</ul>
<a name="game">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>game</h4>
<pre>private&nbsp;<a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Game.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Game</a> game</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ContextManager-it.polimi.ingsw.GC_32.Server.Game.Game-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ContextManager</h4>
<pre>public&nbsp;ContextManager(<a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Game.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Game</a>&nbsp;game)</pre>
<div class="block">initialize the manager to handle contexts for the spcified game</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>game</code> - the game the context manager must handle</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="openContext-it.polimi.ingsw.GC_32.Common.Network.ContextType-it.polimi.ingsw.GC_32.Server.Game.Player-it.polimi.ingsw.GC_32.Server.Game.Action-com.eclipsesource.json.JsonValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContext</h4>
<pre>public&nbsp;void&nbsp;openContext(<a href="../../../../../../it/polimi/ingsw/GC_32/Common/Network/ContextType.html" title="enum in it.polimi.ingsw.GC_32.Common.Network">ContextType</a>&nbsp;context,
                        <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Player.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Player</a>&nbsp;player,
                        <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Action.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Action</a>&nbsp;action,
                        com.eclipsesource.json.JsonValue&nbsp;extraInfo)</pre>
<div class="block">open a context. When openContext() is called a CONTEXT message is sent to the client with all the information needed to customize the context. finally the
 waitingContextResponse is setted on the type of context the ContextManager is waiting for.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the type of context to open</dd>
<dd><code>player</code> - the recipient of the message</dd>
<dd><code>action</code> - the action which has triggered the opening of the context</dd>
<dd><code>extraInfo</code> - the info needed to customize the context</dd>
</dl>
</li>
</ul>
<a name="isThereAnyOpenContext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isThereAnyOpenContext</h4>
<pre>public&nbsp;boolean&nbsp;isThereAnyOpenContext()</pre>
<div class="block">tells if the ContextManager is waiting for a response</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is an open context, false otherwise</dd>
</dl>
</li>
</ul>
<a name="getWaitContextResponse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWaitContextResponse</h4>
<pre>public&nbsp;java.lang.String&nbsp;getWaitContextResponse()</pre>
<div class="block">allows to retrive the content of the waitingContextResponse string</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the type of context the ContextManager is waiting for</dd>
</dl>
</li>
</ul>
<a name="waitForContextReply--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForContextReply</h4>
<pre>public&nbsp;com.eclipsesource.json.JsonValue&nbsp;waitForContextReply()</pre>
<div class="block">blocking method which await for a CONTEXTREPLY message, if the CONTEXT_TYPE field is equals to the value of waitingContextResponse string the response is accepted
 and the response is returned to the caller. null is returned if ContextManager is no context are opened.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the context response, as JsonValue</dd>
</dl>
</li>
</ul>
<a name="setContextAck-boolean-it.polimi.ingsw.GC_32.Server.Game.Player-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setContextAck</h4>
<pre>public&nbsp;void&nbsp;setContextAck(boolean&nbsp;accepted,
                          <a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/Player.html" title="class in it.polimi.ingsw.GC_32.Server.Game">Player</a>&nbsp;player)</pre>
<div class="block">send the CONTEXTACK response to the client</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>accepted</code> - flag that tells the client if the context response has been assessed as valid or not</dd>
<dd><code>player</code> - the recipient of the message</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ContextManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/ActionHandler.html" title="class in it.polimi.ingsw.GC_32.Server.Game"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../it/polimi/ingsw/GC_32/Server/Game/DiceColor.html" title="enum in it.polimi.ingsw.GC_32.Server.Game"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/polimi/ingsw/GC_32/Server/Game/ContextManager.html" target="_top">Frames</a></li>
<li><a href="ContextManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
